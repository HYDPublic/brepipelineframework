<?xml version="1.0" encoding="utf-8"?>
<brl xmlns="http://schemas.microsoft.com/businessruleslanguage/2002">
  <ruleset name="BREPipelineFramework InstructionLoaderPolicy">
    <version major="1" minor="2" description="" modifiedby="jcooper1982" date="2014-06-01T21:15:03.1825808+12:00" />
    <version major="1" minor="0" description="" modifiedby="jcooper1982" date="2014-06-01T21:21:11.2705854+12:00" />
    <configuration />
    <bindings>
      <class ref="MessageUtility" class="MessageUtility" instance="0" instances="16" selectivity="1">
        <assembly>BREPipelineFramework, Version=1.0.0.0, Culture=neutral, PublicKeyToken=83eab0b166470ebc</assembly>
        <!--C:\Windows\Microsoft.Net\assembly\GAC_MSIL\BREPipelineFramework\v4.0_1.0.0.0__83eab0b166470ebc\BREPipelineFramework.dll-->
        <namespace>BREPipelineFramework</namespace>
      </class>
      <class ref="TypedXMLDocumentWrapper" class="TypedXMLDocumentWrapper" instance="0" instances="16" selectivity="1">
        <assembly>BREPipelineFramework, Version=1.0.0.0, Culture=neutral, PublicKeyToken=83eab0b166470ebc</assembly>
        <!--C:\Windows\Microsoft.Net\assembly\GAC_MSIL\BREPipelineFramework\v4.0_1.0.0.0__83eab0b166470ebc\BREPipelineFramework.dll-->
        <namespace>BREPipelineFramework</namespace>
      </class>
    </bindings>
    <rule name="Add TypedXmlDocument Message" priority="0" active="true">
      <if>
        <and>
          <compare operator="equal">
            <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
            <lhs>
              <function>
                <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="85e12044-1328-44e2-ad6a-ded87f20270d" />
                <classmember member="GetMessageRootNodeName" sideeffects="true">
                  <classref ref="MessageUtility" />
                </classmember>
              </function>
            </lhs>
            <rhs>
              <constant>
                <string>Message</string>
              </constant>
            </rhs>
          </compare>
          <compare operator="equal">
            <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
            <lhs>
              <function>
                <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="8371ff53-1ab4-46a5-a051-402db67dcf79" />
                <classmember member="GetMessageRootNodeNamespace" sideeffects="true">
                  <classref ref="MessageUtility" />
                </classmember>
              </function>
            </lhs>
            <rhs>
              <constant>
                <string>http://BREPipelineFramework</string>
              </constant>
            </rhs>
          </compare>
          <predicate>
            <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="93492412-7205-4358-9184-31743f4d093e" />
            <classmember member="CheckIfStringExistsInMessage" sideeffects="true">
              <classref ref="MessageUtility" />
              <argument>
                <constant>
                  <string>Hello</string>
                </constant>
              </argument>
            </classmember>
          </predicate>
          <predicate>
            <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="f867a0df-e68b-43f3-a46f-6f5e899a938a" />
            <classmember member="CheckIfRegexEvaluatesInMessage" sideeffects="true">
              <classref ref="MessageUtility" />
              <argument>
                <constant>
                  <string>(?&lt;=&lt;ns0:\w*&gt;)(?:(?!&lt;\/([a-z0-9]+:)?ns0:\w*&gt;).)*</string>
                </constant>
              </argument>
            </classmember>
          </predicate>
          <compare operator="equal">
            <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
            <lhs>
              <function>
                <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="fd5410b3-f5d5-4f36-bbb5-20b73804d8e3" />
                <classmember member="ReturnFirstRegexMatch" sideeffects="true">
                  <classref ref="MessageUtility" />
                  <argument>
                    <constant>
                      <string>(?&lt;=&lt;ns0:\w*&gt;)(?:(?!&lt;\/([a-z0-9]+:)?ns0:\w*&gt;).)*</string>
                    </constant>
                  </argument>
                </classmember>
              </function>
            </lhs>
            <rhs>
              <constant>
                <string>Test</string>
              </constant>
            </rhs>
          </compare>
          <compare operator="equal">
            <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
            <lhs>
              <function>
                <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="0e09208d-9fa8-4c7f-af1a-b57fb7b4b51b" />
                <classmember member="ReturnRegexMatchByIndex" sideeffects="true">
                  <classref ref="MessageUtility" />
                  <argument>
                    <constant>
                      <string>(?&lt;=&lt;ns0:\w*&gt;)(?:(?!&lt;\/([a-z0-9]+:)?ns0:\w*&gt;).)*</string>
                    </constant>
                  </argument>
                  <argument>
                    <constant>
                      <int>1</int>
                    </constant>
                  </argument>
                </classmember>
              </function>
            </lhs>
            <rhs>
              <constant>
                <string>Hello</string>
              </constant>
            </rhs>
          </compare>
          <compare operator="greater than">
            <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="b276a0f4-12d9-4380-b242-135bbfc5e287" />
            <lhs>
              <function>
                <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="9147229e-883e-4460-bc7c-424cdfbf87be" />
                <classmember member="MessageBodyLength" sideeffects="true">
                  <classref ref="MessageUtility" />
                </classmember>
              </function>
            </lhs>
            <rhs>
              <constant>
                <int>5</int>
              </constant>
            </rhs>
          </compare>
        </and>
      </if>
      <then>
        <function>
          <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="152815a7-b99a-465b-b091-46f06524a6bb" />
          <classmember member="CreateTypedXmlDocument" sideeffects="true">
            <classref ref="TypedXMLDocumentWrapper" />
            <argument>
              <constant>
                <string>BREPipelineFramework.TestProject.Message</string>
              </constant>
            </argument>
          </classmember>
        </function>
      </then>
    </rule>
  </ruleset>
</brl>