<?xml version="1.0" encoding="utf-8"?>
<brl xmlns="http://schemas.microsoft.com/businessruleslanguage/2002">
  <ruleset name="BREPipelineFramework InstructionLoaderPolicy">
    <version major="1" minor="2" description="" modifiedby="jcooper1982" date="2014-06-04T21:50:01.822926+12:00" />
    <version major="1" minor="1" description="" modifiedby="jcooper1982" date="2014-06-04T21:50:30.2942872+12:00" />
    <configuration />
    <bindings>
      <class ref="XMLFactsApplicationStageEnum" class="XMLFactsApplicationStageEnum">
        <assembly>BREPipelineFramework, Version=1.0.0.0, Culture=neutral, PublicKeyToken=83eab0b166470ebc</assembly>
        <!--C:\Windows\Microsoft.Net\assembly\GAC_MSIL\BREPipelineFramework\v4.0_1.0.0.0__83eab0b166470ebc\BREPipelineFramework.dll-->
        <namespace>BREPipelineFramework</namespace>
      </class>
      <class ref="BREPipelineMetaInstructionCollection" class="BREPipelineMetaInstructionCollection" instance="0" instances="16" selectivity="1">
        <assembly>BREPipelineFramework, Version=1.0.0.0, Culture=neutral, PublicKeyToken=83eab0b166470ebc</assembly>
        <!--C:\Windows\Microsoft.Net\assembly\GAC_MSIL\BREPipelineFramework\v4.0_1.0.0.0__83eab0b166470ebc\BREPipelineFramework.dll-->
        <namespace>BREPipelineFramework</namespace>
      </class>
      <class ref="SQLDataConnectionCollection" class="SQLDataConnectionCollection" instance="0" instances="16" selectivity="1">
        <assembly>BREPipelineFramework, Version=1.0.0.0, Culture=neutral, PublicKeyToken=83eab0b166470ebc</assembly>
        <!--C:\Windows\Microsoft.Net\assembly\GAC_MSIL\BREPipelineFramework\v4.0_1.0.0.0__83eab0b166470ebc\BREPipelineFramework.dll-->
        <namespace>BREPipelineFramework</namespace>
      </class>
      <class ref="MessageUtility" class="MessageUtility" instance="0" instances="16" selectivity="1">
        <assembly>BREPipelineFramework, Version=1.0.0.0, Culture=neutral, PublicKeyToken=83eab0b166470ebc</assembly>
        <!--C:\Windows\Microsoft.Net\assembly\GAC_MSIL\BREPipelineFramework\v4.0_1.0.0.0__83eab0b166470ebc\BREPipelineFramework.dll-->
        <namespace>BREPipelineFramework</namespace>
      </class>
      <class ref="TypedXMLDocumentWrapper" class="TypedXMLDocumentWrapper" instance="0" instances="16" selectivity="1">
        <assembly>BREPipelineFramework, Version=1.0.0.0, Culture=neutral, PublicKeyToken=83eab0b166470ebc</assembly>
        <!--C:\Windows\Microsoft.Net\assembly\GAC_MSIL\BREPipelineFramework\v4.0_1.0.0.0__83eab0b166470ebc\BREPipelineFramework.dll-->
        <namespace>BREPipelineFramework</namespace>
      </class>
    </bindings>
    <rule name="Duplicate ContextInstructions" priority="0" active="true">
      <if>
        <compare operator="equal">
          <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
          <lhs>
            <reference>
              <vocabularylink uri="d55d0669-9307-4290-bbe8-a81bd7417c65" element="572f8c2d-9af2-4410-8577-5ab87ce5d6fb" />
              <classref ref="string" />
            </reference>
          </lhs>
          <rhs>
            <constant>
              <string>Test_DuplicateContextMetaInstructions</string>
            </constant>
          </rhs>
        </compare>
      </if>
      <then>
        <function>
          <vocabularylink uri="d55d0669-9307-4290-bbe8-a81bd7417c65" element="41ac688f-5a34-488e-a3fd-073d168fc3eb" />
          <classmember member="AddMetaInstruction" sideeffects="true">
            <classref ref="BREPipelineMetaInstructionCollection" />
            <argument>
              <constant>
                <string>BREPipelineFramework.SampleInstructions.MetaInstructions.ContextMetaInstructions</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <string>BREPipelineFramework.SampleInstructions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=83eab0b166470ebc</string>
              </constant>
            </argument>
          </classmember>
        </function>
      </then>
    </rule>
    <rule name="Add SQLConnectionFromSSO" priority="0" active="true">
      <if>
        <compare operator="equal">
          <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
          <lhs>
            <reference>
              <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="1ed7c5ef-ddbb-45e6-a655-7992b3b09f8d" />
              <classref ref="string" />
            </reference>
          </lhs>
          <rhs>
            <constant>
              <string>Test_SQLConnectionFromSSO</string>
            </constant>
          </rhs>
        </compare>
      </if>
      <then>
        <function>
          <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="3585c1a0-36f4-4e2a-bdba-446b31def4c6" />
          <classmember member="AddSQLDataConnection" sideeffects="true">
            <classref ref="SQLDataConnectionCollection" />
            <argument>
              <constant>
                <string>BREPipelineFramework</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <string>BRETest ConnectionString</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <string>BREPipelineFrameworkTest</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <string>Test</string>
              </constant>
            </argument>
          </classmember>
        </function>
      </then>
    </rule>
    <rule name="Add TypedXmlDocument Message" priority="0" active="true">
      <if>
        <and>
          <compare operator="equal">
            <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
            <lhs>
              <function>
                <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="85e12044-1328-44e2-ad6a-ded87f20270d" />
                <classmember member="GetMessageRootNodeName" sideeffects="true">
                  <classref ref="MessageUtility" />
                </classmember>
              </function>
            </lhs>
            <rhs>
              <constant>
                <string>Message</string>
              </constant>
            </rhs>
          </compare>
          <compare operator="equal">
            <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
            <lhs>
              <function>
                <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="8371ff53-1ab4-46a5-a051-402db67dcf79" />
                <classmember member="GetMessageRootNodeNamespace" sideeffects="true">
                  <classref ref="MessageUtility" />
                </classmember>
              </function>
            </lhs>
            <rhs>
              <constant>
                <string>http://BREPipelineFramework</string>
              </constant>
            </rhs>
          </compare>
        </and>
      </if>
      <then>
        <function>
          <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="152815a7-b99a-465b-b091-46f06524a6bb" />
          <classmember member="CreateTypedXmlDocument" sideeffects="true">
            <classref ref="TypedXMLDocumentWrapper" />
            <argument>
              <constant>
                <string>BREPipelineFramework.TestProject.Message</string>
              </constant>
            </argument>
          </classmember>
        </function>
      </then>
    </rule>
    <rule name="Test_OverrideXmlFactsApplicationStage" priority="0" active="true">
      <if>
        <compare operator="equal">
          <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
          <lhs>
            <reference>
              <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="1ed7c5ef-ddbb-45e6-a655-7992b3b09f8d" />
              <classref ref="string" />
            </reference>
          </lhs>
          <rhs>
            <constant>
              <string>Test_OverrideXmlFactsApplicationStage</string>
            </constant>
          </rhs>
        </compare>
      </if>
      <then>
        <function>
          <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="783d7130-da3c-46b1-95a3-50d04b956773" />
          <classmember member="set_XmlFactsApplicationStageOverride" sideeffects="true">
            <classref ref="BREPipelineMetaInstructionCollection" />
            <argument>
              <constant>
                <object classref="XMLFactsApplicationStageEnum" encoding="base64">AAEAAAD/////AQAAAAAAAAAMAgAAAFdCUkVQaXBlbGluZUZyYW1ld29yaywgVmVyc2lvbj0xLjAuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTgzZWFiMGIxNjY0NzBlYmMFAQAAADFCUkVQaXBlbGluZUZyYW1ld29yay5YTUxGYWN0c0FwcGxpY2F0aW9uU3RhZ2VFbnVtAQAAAAd2YWx1ZV9fAAgCAAAAAgAAAAs=</object>
              </constant>
            </argument>
          </classmember>
        </function>
      </then>
    </rule>
    <rule name="Test_WrongTypeMetaInstruction" priority="0" active="true">
      <if>
        <compare operator="equal">
          <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
          <lhs>
            <reference>
              <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="1ed7c5ef-ddbb-45e6-a655-7992b3b09f8d" />
              <classref ref="string" />
            </reference>
          </lhs>
          <rhs>
            <constant>
              <string>Test_WrongTypeMetaInstruction</string>
            </constant>
          </rhs>
        </compare>
      </if>
      <then>
        <function>
          <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="c2804889-abf7-4040-9319-2bc85399fbcb" />
          <classmember member="AddMetaInstruction" sideeffects="true">
            <classref ref="BREPipelineMetaInstructionCollection" />
            <argument>
              <constant>
                <string>BREPipelineFramework.MessageUtility</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <string>BREPipelineFramework, Version=1.0.0.0, Culture=neutral, PublicKeyToken=83eab0b166470ebc</string>
              </constant>
            </argument>
          </classmember>
        </function>
      </then>
    </rule>
    <rule name="Duplicate HelperInstructions" priority="0" active="true">
      <if>
        <compare operator="equal">
          <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
          <lhs>
            <reference>
              <vocabularylink uri="d55d0669-9307-4290-bbe8-a81bd7417c65" element="572f8c2d-9af2-4410-8577-5ab87ce5d6fb" />
              <classref ref="string" />
            </reference>
          </lhs>
          <rhs>
            <constant>
              <string>Test_DuplicateHelperMetaInstructions</string>
            </constant>
          </rhs>
        </compare>
      </if>
      <then>
        <function>
          <vocabularylink uri="d55d0669-9307-4290-bbe8-a81bd7417c65" element="41ac688f-5a34-488e-a3fd-073d168fc3eb" />
          <classmember member="AddMetaInstruction" sideeffects="true">
            <classref ref="BREPipelineMetaInstructionCollection" />
            <argument>
              <constant>
                <string>BREPipelineFramework.SampleInstructions.MetaInstructions.HelperMetaInstructions</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <string>BREPipelineFramework.SampleInstructions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=83eab0b166470ebc</string>
              </constant>
            </argument>
          </classmember>
        </function>
      </then>
    </rule>
    <rule name="Add SQLConnection" priority="0" active="true">
      <if>
        <compare operator="equal">
          <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
          <lhs>
            <reference>
              <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="1ed7c5ef-ddbb-45e6-a655-7992b3b09f8d" />
              <classref ref="string" />
            </reference>
          </lhs>
          <rhs>
            <constant>
              <string>Test_SQLConnection</string>
            </constant>
          </rhs>
        </compare>
      </if>
      <then>
        <function>
          <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="dd35e7d5-ab9a-4f86-87d3-7d38f842222d" />
          <classmember member="AddSQLDataConnection" sideeffects="true">
            <classref ref="SQLDataConnectionCollection" />
            <argument>
              <constant>
                <string>Data Source=.;Initial Catalog=BREPipelineFrameworkTest;Integrated Security=SSPI;</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <string>BREPipelineFrameworkTest</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <string>Test</string>
              </constant>
            </argument>
          </classmember>
        </function>
      </then>
    </rule>
    <rule name="Test_BadMetaInstruction" priority="0" active="true">
      <if>
        <compare operator="equal">
          <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
          <lhs>
            <reference>
              <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="1ed7c5ef-ddbb-45e6-a655-7992b3b09f8d" />
              <classref ref="string" />
            </reference>
          </lhs>
          <rhs>
            <constant>
              <string>Test_BadMetaInstruction</string>
            </constant>
          </rhs>
        </compare>
      </if>
      <then>
        <function>
          <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="c2804889-abf7-4040-9319-2bc85399fbcb" />
          <classmember member="AddMetaInstruction" sideeffects="true">
            <classref ref="BREPipelineMetaInstructionCollection" />
            <argument>
              <constant>
                <string>test</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <string>help</string>
              </constant>
            </argument>
          </classmember>
        </function>
      </then>
    </rule>
    <rule name="Test_Override" priority="0" active="true">
      <if>
        <compare operator="equal">
          <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
          <lhs>
            <reference>
              <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="1ed7c5ef-ddbb-45e6-a655-7992b3b09f8d" />
              <classref ref="string" />
            </reference>
          </lhs>
          <rhs>
            <constant>
              <string>Test_OverrideMe</string>
            </constant>
          </rhs>
        </compare>
      </if>
      <then>
        <function>
          <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="2c83dfaf-bf7c-4cff-977b-4847f930d3c9" />
          <classmember member="set_ApplicationContextOverride" sideeffects="true">
            <classref ref="BREPipelineMetaInstructionCollection" />
            <argument>
              <constant>
                <string>Test_Override</string>
              </constant>
            </argument>
          </classmember>
        </function>
        <function>
          <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="66432982-8ee6-4d7f-94be-25e24b62f030" />
          <classmember member="set_ExecutionPolicyOverride" sideeffects="true">
            <classref ref="BREPipelineMetaInstructionCollection" />
            <argument>
              <constant>
                <string>BREPipelineFramework OverridePolicy</string>
              </constant>
            </argument>
          </classmember>
        </function>
        <function>
          <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="5db2c6f9-a495-4c49-9ca6-512b7070c926" />
          <classmember member="set_ExecutionPolicyVersionOverride" sideeffects="true">
            <classref ref="BREPipelineMetaInstructionCollection" />
            <argument>
              <constant>
                <string>1.0</string>
              </constant>
            </argument>
          </classmember>
        </function>
      </then>
    </rule>
    <rule name="Instantiate Test Custom MetaInstruction" priority="0" active="true">
      <if>
        <or>
          <compare operator="equal">
            <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
            <lhs>
              <reference>
                <vocabularylink uri="d55d0669-9307-4290-bbe8-a81bd7417c65" element="572f8c2d-9af2-4410-8577-5ab87ce5d6fb" />
                <classref ref="string" />
              </reference>
            </lhs>
            <rhs>
              <constant>
                <string>Test_CustomMetaInstruction</string>
              </constant>
            </rhs>
          </compare>
          <compare operator="equal">
            <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
            <lhs>
              <reference>
                <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="1ed7c5ef-ddbb-45e6-a655-7992b3b09f8d" />
                <classref ref="string" />
              </reference>
            </lhs>
            <rhs>
              <constant>
                <string>Test_UncaughtPolicyException</string>
              </constant>
            </rhs>
          </compare>
          <compare operator="equal">
            <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
            <lhs>
              <reference>
                <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="1ed7c5ef-ddbb-45e6-a655-7992b3b09f8d" />
                <classref ref="string" />
              </reference>
            </lhs>
            <rhs>
              <constant>
                <string>Test_UncaughtPolicyExceptionAfterUpdate</string>
              </constant>
            </rhs>
          </compare>
          <compare operator="equal">
            <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="05703dd9-1111-40b8-890d-ad7bfc45a925" />
            <lhs>
              <reference>
                <vocabularylink uri="d892a25c-a516-4db9-b606-13c1f5954575" element="1ed7c5ef-ddbb-45e6-a655-7992b3b09f8d" />
                <classref ref="string" />
              </reference>
            </lhs>
            <rhs>
              <constant>
                <string>Test_Compensate</string>
              </constant>
            </rhs>
          </compare>
        </or>
      </if>
      <then>
        <function>
          <vocabularylink uri="d55d0669-9307-4290-bbe8-a81bd7417c65" element="41ac688f-5a34-488e-a3fd-073d168fc3eb" />
          <classmember member="AddMetaInstruction" sideeffects="true">
            <classref ref="BREPipelineMetaInstructionCollection" />
            <argument>
              <constant>
                <string>BREPipelineFramework.TestSampleInstructions.MetaInstruction</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <string>BREPipelineFramework.TestSampleInstructions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=83eab0b166470ebc</string>
              </constant>
            </argument>
          </classmember>
        </function>
      </then>
    </rule>
  </ruleset>
</brl>